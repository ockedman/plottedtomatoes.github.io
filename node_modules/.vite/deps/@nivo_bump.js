import {
  I
} from "./chunk-7AJ4HOP4.js";
import {
  B,
  C,
  X,
  Z
} from "./chunk-QYFNBIJB.js";
import {
  Fr,
  In,
  It,
  St,
  Ur,
  Xe,
  animated,
  area_default,
  basis_default,
  gn,
  k,
  line_default,
  linear,
  linear_default,
  point,
  pr,
  to,
  useSpring,
  useSprings,
  w,
  wt,
  zt
} from "./chunk-XV5DIAUC.js";
import "./chunk-CY2I7XHN.js";
import "./chunk-NXESFFTV.js";
import {
  require_jsx_runtime
} from "./chunk-6PXSGDAH.js";
import {
  require_react
} from "./chunk-DRWLMN53.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/@nivo/bump/dist/nivo-bump.es.js
var import_react = __toESM(require_react());
var import_jsx_runtime = __toESM(require_jsx_runtime());
function G() {
  return G = Object.assign ? Object.assign.bind() : function(i2) {
    for (var e2 = 1; e2 < arguments.length; e2++) {
      var t2 = arguments[e2];
      for (var o2 in t2) Object.prototype.hasOwnProperty.call(t2, o2) && (i2[o2] = t2[o2]);
    }
    return i2;
  }, G.apply(this, arguments);
}
function F(i2, e2) {
  if (null == i2) return {};
  var t2, o2, n2 = {}, r2 = Object.keys(i2);
  for (o2 = 0; o2 < r2.length; o2++) t2 = r2[o2], e2.indexOf(t2) >= 0 || (n2[t2] = i2[t2]);
  return n2;
}
var H = function(i2) {
  return (0, import_react.useMemo)(function() {
    return "function" == typeof i2 ? i2 : function() {
      return i2;
    };
  }, [i2]);
};
var X2 = function(o2) {
  var n2 = o2.width, r2 = o2.height, d = o2.data, c = o2.interpolation, l = o2.xPadding, s = o2.xOuterPadding, v = o2.yOuterPadding, u = o2.lineWidth, p = o2.activeLineWidth, h = o2.inactiveLineWidth, f = o2.colors, b = o2.opacity, P = o2.activeOpacity, W = o2.inactiveOpacity, L = o2.pointSize, I2 = o2.activePointSize, C3 = o2.inactivePointSize, B3 = o2.pointColor, k3 = o2.pointBorderWidth, A = o2.activePointBorderWidth, E = o2.inactivePointBorderWidth, T = o2.pointBorderColor, w2 = o2.isInteractive, z = o2.defaultActiveSerieIds, F2 = (0, import_react.useState)(z), X3 = F2[0], j2 = F2[1], Y2 = (0, import_react.useState)(z), K2 = Y2[0], R2 = Y2[1], q2 = (0, import_react.useMemo)(function() {
    return function(i2) {
      var e2 = i2.width, t2 = i2.height, o3 = i2.data, n3 = i2.xPadding, r3 = i2.xOuterPadding, a = i2.yOuterPadding, d2 = /* @__PURE__ */ new Set(), c2 = /* @__PURE__ */ new Set();
      o3.forEach(function(i3) {
        i3.data.forEach(function(i4) {
          d2.add(i4.x), null !== i4.y && c2.add(i4.y);
        });
      });
      var l2 = Array.from(d2), s2 = Z(point().domain(l2).range([0, e2]).padding(r3)), v2 = Array.from(c2).sort(function(i3, e3) {
        return i3 - e3;
      }), u2 = Z(point().domain(v2).range([0, t2]).padding(a)), p2 = s2.step() * Math.min(0.5 * n3, 0.5);
      return { series: o3.map(function(i3) {
        var t3 = { id: i3.id, data: i3, points: [], linePoints: [] };
        return i3.data.forEach(function(o4, n4) {
          var r4 = null, a2 = null;
          null !== o4.y && (r4 = s2(o4.x), a2 = u2(o4.y));
          var d3 = { id: i3.id + "." + n4, serie: i3, data: o4, x: r4, y: a2 };
          t3.points.push(d3), null !== d3.x && (0 === n4 ? t3.linePoints.push([0, d3.y]) : t3.linePoints.push([d3.x - p2, d3.y])), t3.linePoints.push([d3.x, d3.y]), null !== r4 && (n4 === i3.data.length - 1 && r4 ? t3.linePoints.push([e2, d3.y]) : t3.linePoints.push([d3.x + p2, d3.y])), t3.points = t3.points.filter(function(i4) {
            return null !== i4.x;
          });
        }), t3;
      }), xScale: s2, yScale: u2 };
    }({ width: n2, height: r2, data: d, xPadding: l, xOuterPadding: s, yOuterPadding: v });
  }, [n2, r2, d, l, s, v]), D2 = q2.series, J2 = q2.xScale, N2 = q2.yScale, Q2 = function(i2) {
    return (0, import_react.useMemo)(function() {
      return line_default().curve("smooth" === i2 ? basis_default : linear_default).defined(function(i3) {
        return null !== i3[0] && null !== i3[1];
      });
    }, [i2]);
  }(c), U2 = pr(f, "id"), V2 = function(i2) {
    var e2 = i2.lineWidth, o3 = i2.activeLineWidth, n3 = i2.inactiveLineWidth, r3 = i2.opacity, a = i2.activeOpacity, d2 = i2.inactiveOpacity, c2 = i2.isInteractive, l2 = i2.activeSerieIds, s2 = H(e2), v2 = H(o3), u2 = H(n3), p2 = H(r3), h2 = H(a), f2 = H(d2), g = (0, import_react.useCallback)(function(i3) {
      return { opacity: p2(i3), lineWidth: s2(i3) };
    }, [s2, p2]), y = (0, import_react.useCallback)(function(i3) {
      return { opacity: h2(i3), lineWidth: v2(i3) };
    }, [v2, h2]), m = (0, import_react.useCallback)(function(i3) {
      return { opacity: f2(i3), lineWidth: u2(i3) };
    }, [u2, f2]);
    return (0, import_react.useCallback)(function(i3) {
      return c2 && 0 !== l2.length ? l2.includes(i3.id) ? y(i3) : m(i3) : g(i3);
    }, [g, y, m, c2, l2]);
  }({ lineWidth: u, activeLineWidth: p, inactiveLineWidth: h, opacity: b, activeOpacity: P, inactiveOpacity: W, isInteractive: w2, activeSerieIds: X3 }), Z3 = (0, import_react.useMemo)(function() {
    return D2.map(function(i2) {
      return G({}, i2, { color: U2(i2.data) }, V2(i2));
    });
  }, [D2, U2, V2]), $2 = zt(), _2 = Xe(B3, $2), ii2 = Xe(T, $2), ei2 = function(i2) {
    var e2 = i2.pointSize, o3 = i2.activePointSize, n3 = i2.inactivePointSize, r3 = i2.pointBorderWidth, a = i2.activePointBorderWidth, d2 = i2.inactivePointBorderWidth, c2 = i2.isInteractive, l2 = i2.activePointIds, s2 = H(e2), v2 = H(o3), u2 = H(n3), p2 = H(r3), h2 = H(a), f2 = H(d2), g = (0, import_react.useCallback)(function(i3) {
      return { size: s2(i3), borderWidth: p2(i3) };
    }, [s2, p2]), y = (0, import_react.useCallback)(function(i3) {
      return { size: v2(i3), borderWidth: h2(i3) };
    }, [v2, h2]), m = (0, import_react.useCallback)(function(i3) {
      return { size: u2(i3), borderWidth: f2(i3) };
    }, [u2, f2]);
    return (0, import_react.useCallback)(function(i3) {
      return c2 && 0 !== l2.length ? l2.includes(i3.id) ? y(i3) : m(i3) : g(i3);
    }, [g, y, m, c2, l2]);
  }({ pointSize: L, activePointSize: I2, inactivePointSize: C3, pointBorderWidth: k3, activePointBorderWidth: A, inactivePointBorderWidth: E, isInteractive: w2, activePointIds: K2 }), ti2 = (0, import_react.useMemo)(function() {
    var i2 = [];
    return Z3.forEach(function(e2) {
      e2.points.forEach(function(t2) {
        var o3 = G({}, t2, { serie: e2, isActive: X3.includes(e2.id), isInactive: X3.length > 0 && !X3.includes(e2.id) });
        o3.color = _2(o3), o3.borderColor = ii2(o3), i2.push(G({}, o3, ei2(o3)));
      });
    }), i2;
  }, [Z3, X3, _2, ii2, ei2]);
  return { xScale: J2, yScale: N2, series: Z3, points: ti2, lineGenerator: Q2, activeSerieIds: X3, setActiveSerieIds: j2, activePointIds: K2, setActivePointIds: R2 };
};
var j = function(i2) {
  var n2 = i2.serie, r2 = i2.isInteractive, a = i2.onMouseEnter, d = i2.onMouseMove, c = i2.onMouseLeave, l = i2.onClick, s = i2.setActiveSerieIds, v = i2.lineTooltip, u = k(), p = u.showTooltipFromEvent, h = u.hideTooltip, f = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), s([n2.id]), a && a(n2, i3);
  }, [n2, a, p, s, v]), g = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), d && d(n2, i3);
  }, [n2, d, p, v]), y = (0, import_react.useCallback)(function(i3) {
    h(), s([]), c && c(n2, i3);
  }, [n2, c, h, s]), m = (0, import_react.useCallback)(function(i3) {
    l && l(n2, i3);
  }, [n2, l]);
  return (0, import_react.useMemo)(function() {
    return { onMouseEnter: r2 ? f : void 0, onMouseMove: r2 ? g : void 0, onMouseLeave: r2 ? y : void 0, onClick: r2 ? m : void 0 };
  }, [r2, f, g, y, m]);
};
var Y = function(i2) {
  var n2 = i2.point, r2 = i2.isInteractive, a = i2.onMouseEnter, d = i2.onMouseMove, c = i2.onMouseLeave, l = i2.onClick, s = i2.setActivePointIds, v = i2.setActiveSerieIds, u = i2.pointTooltip, p = k(), h = p.showTooltipFromEvent, f = p.hideTooltip, g = (0, import_react.useCallback)(function(i3) {
    h((0, import_react.createElement)(u, { point: n2 }), i3), s([n2.id]), v([n2.serie.id]), a && a(n2, i3);
  }, [h, u, n2, s, v, a]), y = (0, import_react.useCallback)(function(i3) {
    h((0, import_react.createElement)(u, { point: n2 }), i3), d && d(n2, i3);
  }, [h, u, n2, d]), m = (0, import_react.useCallback)(function(i3) {
    f(), s([]), v([]), c && c(n2, i3);
  }, [f, s, v, c, n2]), b = (0, import_react.useCallback)(function(i3) {
    l && l(n2, i3);
  }, [n2, l]);
  return (0, import_react.useMemo)(function() {
    return { onMouseEnter: r2 ? g : void 0, onMouseMove: r2 ? y : void 0, onMouseLeave: r2 ? m : void 0, onClick: r2 ? b : void 0 };
  }, [r2, g, y, m, b]);
};
var K = function(i2) {
  var t2 = i2.series, o2 = i2.position, n2 = i2.padding, r2 = i2.color, d = i2.getLabel, c = zt(), l = Xe(r2, c);
  return (0, import_react.useMemo)(function() {
    var i3, e2;
    "start" === o2 ? (i3 = "end", e2 = -1 * n2) : (i3 = "start", e2 = n2);
    var r3 = [];
    return t2.forEach(function(t3) {
      var n3 = t3.id;
      "function" == typeof d && (n3 = d(t3.data));
      var a = "start" === o2 ? t3.linePoints[0] : t3.linePoints[t3.linePoints.length - 1];
      null !== (null == a ? void 0 : a[0]) && null !== (null == a ? void 0 : a[1]) && r3.push({ id: t3.id, label: n3, x: a[0] + e2, y: a[1], color: l(t3), opacity: t3.opacity, serie: t3, textAnchor: i3 });
    }), r3;
  }, [t2, o2, n2, l, d]);
};
var R = { pointerEvents: "none" };
var q = G({}, { layers: ["grid", "axes", "labels", "lines", "points", "mesh"], interpolation: "smooth", xPadding: 0.6, xOuterPadding: 0.5, yOuterPadding: 0.5, colors: { scheme: "nivo" }, lineWidth: 2, activeLineWidth: 4, inactiveLineWidth: 1, opacity: 1, activeOpacity: 1, inactiveOpacity: 0.3, startLabel: false, startLabelPadding: 16, startLabelTextColor: { from: "color" }, endLabel: true, endLabelPadding: 16, endLabelTextColor: { from: "color" }, pointSize: 6, activePointSize: 8, inactivePointSize: 4, pointColor: { from: "serie.color" }, pointBorderWidth: 0, activePointBorderWidth: 0, inactivePointBorderWidth: 0, pointBorderColor: { from: "serie.color", modifiers: [["darker", 1.4]] }, enableGridX: true, enableGridY: true, axisTop: {}, axisBottom: {}, axisLeft: {}, isInteractive: true, defaultActiveSerieIds: [], lineTooltip: function(i2) {
  var e2 = i2.serie;
  return (0, import_jsx_runtime.jsx)(w, { "data-testid": "tooltip." + e2.data.id, id: e2.data.id, enableChip: true, color: e2.color });
}, pointTooltip: (0, import_react.memo)(function(i2) {
  var e2 = i2.point;
  return (0, import_jsx_runtime.jsx)(w, { id: (0, import_jsx_runtime.jsxs)("span", { children: ["x: ", (0, import_jsx_runtime.jsx)("strong", { children: e2.data.x }), ", y: ", (0, import_jsx_runtime.jsx)("strong", { children: e2.data.y })] }), enableChip: true, color: e2.serie.color });
}), useMesh: false, debugMesh: false, role: "img" }, { pointComponent: function(i2) {
  var e2 = i2.point, t2 = Ur(), o2 = t2.animate, n2 = t2.config, r2 = useSpring({ x: e2.x, y: e2.y, radius: e2.size / 2, color: e2.color, borderWidth: e2.borderWidth, config: n2, immediate: !o2 });
  return (0, import_jsx_runtime.jsx)(animated.circle, { "data-testid": "point." + e2.serie.id + "." + e2.data.x, cx: r2.x, cy: r2.y, r: to(r2.radius, function(i3) {
    return Math.max(i3, 0);
  }), fill: r2.color, strokeWidth: r2.borderWidth, stroke: e2.borderColor, style: R });
}, animate: true, motionConfig: "gentle" });
var D = function(i2) {
  var e2 = i2.serie, t2 = i2.lineGenerator, o2 = i2.yStep, n2 = i2.isInteractive, r2 = i2.onMouseEnter, a = i2.onMouseMove, l = i2.onMouseLeave, s = i2.onClick, v = i2.setActiveSerieIds, u = i2.lineTooltip, p = i2.useMesh, h = j({ serie: e2, isInteractive: n2, onMouseEnter: r2, onMouseMove: a, onMouseLeave: l, onClick: s, setActiveSerieIds: v, lineTooltip: u }), f = Ur(), g = f.animate, y = f.config, m = t2(e2.linePoints) || "", b = Fr(m), x = useSpring({ color: e2.color, opacity: e2.opacity, lineWidth: e2.lineWidth, config: y, immediate: !g });
  return (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [(0, import_jsx_runtime.jsx)(animated.path, { "data-testid": "line." + e2.id, fill: "none", d: b, stroke: x.color, strokeWidth: x.lineWidth, strokeLinecap: "round", strokeOpacity: x.opacity, style: { pointerEvents: "none" } }), n2 && !p && (0, import_jsx_runtime.jsx)("path", { "data-testid": "line." + e2.id + ".interactive", fill: "none", stroke: "red", strokeOpacity: 0, strokeWidth: o2, d: m, strokeLinecap: "butt", onMouseEnter: h.onMouseEnter, onMouseMove: h.onMouseMove, onMouseLeave: h.onMouseLeave, onClick: h.onClick })] });
};
var J = function(i2) {
  var e2 = i2.series, t2 = i2.getLabel, o2 = i2.position, n2 = i2.padding, r2 = i2.color, c = zt(), l = Ur(), s = l.animate, v = l.config, u = K({ series: e2, getLabel: t2, position: o2, padding: n2, color: r2 }), p = useSprings(u.length, u.map(function(i3) {
    return { x: i3.x, y: i3.y, opacity: i3.opacity, config: v, immediate: !s };
  }));
  return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: p.map(function(i3, e3) {
    var t3 = u[e3];
    return (0, import_jsx_runtime.jsx)(animated.text, { "data-testid": "label." + o2 + "." + t3.serie.id, x: i3.x, y: i3.y, textAnchor: t3.textAnchor, dominantBaseline: "central", opacity: i3.opacity, style: G({}, c.labels.text, { fill: t3.color }), children: t3.label }, t3.id);
  }) });
};
var N = (0, import_react.memo)(function(i2) {
  var e2 = i2.points, n2 = i2.width, r2 = i2.height, a = i2.margin, d = i2.setActivePointIds, c = i2.setActiveSerieIds, l = i2.onMouseEnter, s = i2.onMouseMove, v = i2.onMouseLeave, u = i2.onClick, p = i2.tooltip, h = i2.debug, f = k(), g = f.showTooltipAt, y = f.hideTooltip, m = (0, import_react.useCallback)(function(i3, e3) {
    var t2;
    g((0, import_react.createElement)(p, { point: i3 }), [i3.x + a.left, null != (t2 = i3.y) ? t2 : 0 + a.top], "top"), d([i3.id]), c([i3.serie.id]), l && l(i3, e3);
  }, [g, p, a.left, a.top, d, c, l]), b = (0, import_react.useCallback)(function(i3, e3) {
    var t2;
    g((0, import_react.createElement)(p, { point: i3 }), [i3.x + a.left, null != (t2 = i3.y) ? t2 : 0 + a.top], "top"), d([i3.id]), c([i3.serie.id]), s && s(i3, e3);
  }, [g, p, a.left, a.top, d, c, s]), x = (0, import_react.useCallback)(function(i3, e3) {
    y(), d([]), c([]), v && v(i3, e3);
  }, [y, v, d, c]), M = (0, import_react.useCallback)(function(i3, e3) {
    u && u(i3, e3);
  }, [u]);
  return (0, import_jsx_runtime.jsx)(I, { nodes: e2, width: n2, height: r2, onMouseEnter: m, onMouseMove: b, onMouseLeave: x, onClick: M, debug: h });
});
var Q = ["isInteractive", "animate", "motionConfig", "theme", "renderWrapper"];
var U = function(i2) {
  var t2 = i2.data, n2 = i2.width, a = i2.height, d = i2.margin, c = i2.layers, l = void 0 === c ? q.layers : c, u = i2.interpolation, p = void 0 === u ? q.interpolation : u, g = i2.xPadding, y = void 0 === g ? q.xPadding : g, m = i2.xOuterPadding, b = void 0 === m ? q.xOuterPadding : m, x = i2.yOuterPadding, M = void 0 === x ? q.yOuterPadding : x, P = i2.colors, W = void 0 === P ? q.colors : P, O = i2.lineWidth, L = void 0 === O ? q.lineWidth : O, S = i2.activeLineWidth, I2 = void 0 === S ? q.activeLineWidth : S, k3 = i2.inactiveLineWidth, A = void 0 === k3 ? q.inactiveLineWidth : k3, E = i2.opacity, T = void 0 === E ? q.opacity : E, w2 = i2.activeOpacity, z = void 0 === w2 ? q.activeOpacity : w2, G2 = i2.inactiveOpacity, F2 = void 0 === G2 ? q.inactiveOpacity : G2, H2 = i2.startLabel, j2 = void 0 === H2 ? q.startLabel : H2, Y2 = i2.startLabelPadding, K2 = void 0 === Y2 ? q.startLabelPadding : Y2, R2 = i2.startLabelTextColor, Q2 = void 0 === R2 ? q.startLabelTextColor : R2, U2 = i2.endLabel, V2 = void 0 === U2 ? q.endLabel : U2, Z3 = i2.endLabelPadding, $2 = void 0 === Z3 ? q.endLabelPadding : Z3, _2 = i2.endLabelTextColor, ii2 = void 0 === _2 ? q.endLabelTextColor : _2, ei2 = i2.pointComponent, ti2 = void 0 === ei2 ? q.pointComponent : ei2, oi2 = i2.pointSize, ni2 = void 0 === oi2 ? q.pointSize : oi2, ri2 = i2.activePointSize, ai2 = void 0 === ri2 ? q.activePointSize : ri2, di2 = i2.inactivePointSize, ci2 = void 0 === di2 ? q.inactivePointSize : di2, li2 = i2.pointColor, si2 = void 0 === li2 ? q.pointColor : li2, vi2 = i2.pointBorderWidth, ui = void 0 === vi2 ? q.pointBorderWidth : vi2, pi = i2.activePointBorderWidth, hi = void 0 === pi ? q.activePointBorderWidth : pi, fi = i2.inactivePointBorderWidth, gi = void 0 === fi ? q.inactivePointBorderWidth : fi, yi = i2.pointBorderColor, mi = void 0 === yi ? q.pointBorderColor : yi, bi = i2.enableGridX, xi = void 0 === bi ? q.enableGridX : bi, Mi = i2.enableGridY, Pi = void 0 === Mi ? q.enableGridY : Mi, Wi = i2.axisTop, Oi = void 0 === Wi ? q.axisTop : Wi, Li = i2.axisRight, Si = i2.axisBottom, Ii = void 0 === Si ? q.axisBottom : Si, Ci = i2.axisLeft, Bi = void 0 === Ci ? q.axisLeft : Ci, ki = i2.isInteractive, Ai = void 0 === ki ? q.isInteractive : ki, Ei = i2.defaultActiveSerieIds, Ti = void 0 === Ei ? q.defaultActiveSerieIds : Ei, wi = i2.onMouseEnter, zi = i2.onMouseMove, Gi = i2.onMouseLeave, Fi = i2.onClick, Hi = i2.useMesh, Xi = void 0 === Hi ? q.useMesh : Hi, ji = i2.debugMesh, Yi = void 0 === ji ? q.debugMesh : ji, Ki = i2.lineTooltip, Ri = void 0 === Ki ? q.lineTooltip : Ki, qi = i2.pointTooltip, Di = void 0 === qi ? q.pointTooltip : qi, Ji = i2.role, Ni = void 0 === Ji ? q.role : Ji, Qi = wt(n2, a, d), Ui = Qi.margin, Vi = Qi.innerWidth, Zi = Qi.innerHeight, $i = Qi.outerWidth, _i = Qi.outerHeight, ie = X2({ width: Vi, height: Zi, data: t2, interpolation: p, xPadding: y, xOuterPadding: b, yOuterPadding: M, lineWidth: L, activeLineWidth: I2, inactiveLineWidth: A, colors: W, opacity: T, activeOpacity: z, inactiveOpacity: F2, pointSize: ni2, activePointSize: ai2, inactivePointSize: ci2, pointColor: si2, pointBorderWidth: ui, activePointBorderWidth: hi, inactivePointBorderWidth: gi, pointBorderColor: mi, isInteractive: Ai, defaultActiveSerieIds: Ti }), ee = ie.series, te = ie.points, oe = ie.xScale, ne = ie.yScale, re = ie.lineGenerator, ae = ie.activePointIds, de = ie.activeSerieIds, ce = ie.setActiveSerieIds, le = ie.setActivePointIds, se = { grid: null, axes: null, labels: null, lines: null, points: null, mesh: null };
  l.includes("grid") && (se.grid = (0, import_jsx_runtime.jsx)(C, { width: Vi, height: Zi, xScale: xi ? oe : null, yScale: Pi ? ne : null }, "grid")), l.includes("axes") && (se.axes = (0, import_jsx_runtime.jsx)(B, { xScale: oe, yScale: ne, width: Vi, height: Zi, top: Oi, right: Li, bottom: Ii, left: Bi }, "axes")), l.includes("lines") && (se.lines = (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: ee.map(function(i3) {
    return (0, import_jsx_runtime.jsx)(D, { serie: i3, setActiveSerieIds: ce, lineGenerator: re, yStep: ne.step(), isInteractive: Ai, onMouseEnter: wi, onMouseMove: zi, onMouseLeave: Gi, onClick: Fi, lineTooltip: Ri, useMesh: Xi }, i3.id);
  }) }, "lines")), Ai && Xi && l.includes("mesh") && (se.mesh = (0, import_jsx_runtime.jsx)(N, { points: te, width: Vi, height: Zi, margin: Ui, setActivePointIds: le, setActiveSerieIds: ce, onMouseEnter: wi, onMouseMove: zi, onMouseLeave: Gi, onClick: Fi, tooltip: Di, debug: Yi }, "mesh")), l.includes("points") && (se.points = te.map(function(i3) {
    return (0, import_react.createElement)(ti2, { key: i3.id, point: i3 });
  })), l.includes("labels") && (se.labels = (0, import_jsx_runtime.jsxs)(import_react.Fragment, { children: [false !== j2 && (0, import_jsx_runtime.jsx)(J, { series: ee, getLabel: j2, position: "start", padding: K2, color: Q2 }), false !== V2 && (0, import_jsx_runtime.jsx)(J, { series: ee, getLabel: V2, position: "end", padding: $2, color: ii2 })] }, "legends"));
  var ve = (0, import_react.useMemo)(function() {
    return { innerHeight: Zi, innerWidth: Vi, lineGenerator: re, points: te, series: ee, xScale: oe, yScale: ne, activeSerieIds: de, activePointIds: ae, setActiveSerieIds: ce, setActivePointIds: le };
  }, [ae, de, le, ce, Zi, Vi, re, te, ee, oe, ne]);
  return (0, import_jsx_runtime.jsx)(gn, { width: $i, height: _i, margin: Ui, role: Ni, children: l.map(function(i3, e2) {
    var t3;
    return "function" == typeof i3 ? (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: (0, import_react.createElement)(i3, ve) }, e2) : null != (t3 = null == se ? void 0 : se[i3]) ? t3 : null;
  }) });
};
var V = function(i2) {
  var e2 = i2.isInteractive, t2 = void 0 === e2 ? q.isInteractive : e2, o2 = i2.animate, n2 = void 0 === o2 ? q.animate : o2, r2 = i2.motionConfig, a = void 0 === r2 ? q.motionConfig : r2, d = i2.theme, c = i2.renderWrapper, s = F(i2, Q);
  return (0, import_jsx_runtime.jsx)(St, { animate: n2, isInteractive: t2, motionConfig: a, renderWrapper: c, theme: d, children: (0, import_jsx_runtime.jsx)(U, G({ isInteractive: t2 }, s)) });
};
var Z2 = function(i2) {
  return (0, import_jsx_runtime.jsx)(It, { children: function(e2) {
    var t2 = e2.width, o2 = e2.height;
    return (0, import_jsx_runtime.jsx)(V, G({ width: t2, height: o2 }, i2));
  } });
};
var $ = function(i2) {
  return "serie" in i2;
};
var _ = function(i2) {
  return "points" in i2;
};
var ii = function(i2) {
  var t2 = i2.data, o2 = i2.width, n2 = i2.height, r2 = i2.align, a = i2.spacing, d = i2.xPadding;
  return (0, import_react.useMemo)(function() {
    return function(i3) {
      var e2, t3, o3 = i3.data, n3 = i3.width, r3 = i3.height, a2 = i3.align, d2 = i3.spacing, c = i3.xPadding, l = /* @__PURE__ */ new Map();
      o3.forEach(function(i4) {
        i4.data.forEach(function(o4) {
          l.has(o4.x) || l.set(o4.x, { id: o4.x, total: 0, values: /* @__PURE__ */ new Map(), x: 0 });
          var n4 = l.get(o4.x), r4 = n4.total + o4.y;
          n4.total = r4, n4.values.set(i4.id, { serieId: i4.id, value: o4.y, position: 0, height: 0, beforeHeight: 0 }), (void 0 === e2 || r4 > e2) && (e2 = r4), (void 0 === t3 || n4.values.size > t3) && (t3 = n4.values.size);
        });
      });
      var s = Z(point().domain(Array.from(l.keys())).range([0, n3])), v = X(linear().domain([0, e2]).range([0, r3 - t3 * d2]));
      l.forEach(function(i4, e3) {
        i4.x = s(e3);
        var t4 = v(i4.total) + i4.values.size * d2, o4 = 0;
        "middle" === a2 ? o4 = (r3 - t4) / 2 : "end" === a2 && (o4 = r3 - t4), Array.from(i4.values.values()).sort(function(i5, e4) {
          return e4.value - i5.value;
        }).forEach(function(e4, t5, n4) {
          var r4 = n4.filter(function(i5, e5) {
            return e5 < t5;
          }), a3 = r4.reduce(function(i5, e5) {
            return i5 + e5.value;
          }, 0), c2 = i4.values.get(e4.serieId);
          c2.position = t5, c2.height = v(e4.value), c2.beforeHeight = v(a3) + o4 + d2 * (r4.length + 0.5);
        });
      });
      var u = s.step() * Math.min(0.5 * c, 0.5), p = o3.map(function(i4) {
        var e3 = { id: i4.id, data: i4, points: [], areaPoints: [] };
        return i4.data.forEach(function(t4, o4) {
          var n4 = l.get(t4.x), r4 = n4.values.get(i4.id), a3 = n4.x, d3 = r4.beforeHeight, c2 = r4.height, s2 = d3 + c2 / 2, v2 = d3, p2 = d3 + c2;
          e3.points.push({ x: a3, y: s2, height: c2, data: G({}, t4) }), o4 > 0 && e3.areaPoints.push({ x: a3 - u, y0: v2, y1: p2 }), e3.areaPoints.push({ x: a3, y0: v2, y1: p2 }), o4 < i4.data.length - 1 && e3.areaPoints.push({ x: a3 + u, y0: v2, y1: p2 });
        }), e3;
      });
      return { series: p, xScale: s, heightScale: v };
    }({ data: t2, width: o2, height: n2, align: r2, spacing: a, xPadding: d });
  }, [t2, o2, n2, r2, a, d]);
};
var ei = function(i2) {
  return (0, import_react.useMemo)(function() {
    return "function" == typeof i2 ? i2 : function() {
      return i2;
    };
  }, [i2]);
};
var ti = function(o2) {
  var n2 = o2.data, r2 = o2.width, d = o2.height, c = o2.align, l = o2.spacing, s = o2.xPadding, v = o2.interpolation, u = o2.colors, p = o2.fillOpacity, h = o2.activeFillOpacity, f = o2.inactiveFillOpacity, g = o2.borderWidth, P = o2.activeBorderWidth, W = o2.inactiveBorderWidth, O = o2.borderColor, L = o2.borderOpacity, S = o2.activeBorderOpacity, I2 = o2.inactiveBorderOpacity, C3 = o2.isInteractive, B3 = o2.defaultActiveSerieIds, k3 = (0, import_react.useState)(B3), A = k3[0], E = k3[1], T = ii({ data: n2, width: r2, height: d, align: c, spacing: l, xPadding: s }), w2 = T.series, z = T.xScale, F2 = T.heightScale, H2 = function(i2) {
    return (0, import_react.useMemo)(function() {
      return area_default().x(function(i3) {
        return i3.x;
      }).y0(function(i3) {
        return i3.y0;
      }).y1(function(i3) {
        return i3.y1;
      }).curve("smooth" === i2 ? basis_default : linear_default);
    }, [i2]);
  }(v), X3 = pr(u, "id"), j2 = function(i2) {
    var e2 = i2.fillOpacity, o3 = i2.activeFillOpacity, n3 = i2.inactiveFillOpacity, r3 = i2.borderWidth, d2 = i2.activeBorderWidth, c2 = i2.inactiveBorderWidth, l2 = i2.borderColor, s2 = i2.borderOpacity, v2 = i2.activeBorderOpacity, u2 = i2.inactiveBorderOpacity, p2 = i2.isInteractive, h2 = i2.activeSerieIds, f2 = ei(e2), g2 = ei(o3), y = ei(n3), m = ei(r3), b = ei(d2), x = ei(c2), P2 = zt(), W2 = Xe(l2, P2), O2 = ei(s2), L2 = ei(v2), S2 = ei(u2), I3 = (0, import_react.useCallback)(function(i3) {
      return { fillOpacity: f2(i3), borderWidth: m(i3), borderColor: W2(i3), borderOpacity: O2(i3) };
    }, [f2, m, W2, O2]), C4 = (0, import_react.useCallback)(function(i3) {
      return { fillOpacity: g2(i3), borderWidth: b(i3), borderColor: W2(i3), borderOpacity: L2(i3) };
    }, [g2, b, W2, L2]), B4 = (0, import_react.useCallback)(function(i3) {
      return { fillOpacity: y(i3), borderWidth: x(i3), borderColor: W2(i3), borderOpacity: S2(i3) };
    }, [y, x, W2, S2]);
    return (0, import_react.useCallback)(function(i3) {
      return p2 && 0 !== h2.length ? h2.includes(i3.id) ? C4(i3) : B4(i3) : I3(i3);
    }, [I3, C4, B4, p2, h2]);
  }({ fillOpacity: p, activeFillOpacity: h, inactiveFillOpacity: f, borderWidth: g, activeBorderWidth: P, inactiveBorderWidth: W, borderColor: O, borderOpacity: L, activeBorderOpacity: S, inactiveBorderOpacity: I2, isInteractive: C3, activeSerieIds: A });
  return { series: (0, import_react.useMemo)(function() {
    return w2.map(function(i2) {
      var e2 = G({}, i2, { color: X3(i2.data) });
      return G({}, e2, j2(e2));
    });
  }, [w2, X3, j2]), xScale: z, heightScale: F2, areaGenerator: H2, activeSerieIds: A, setActiveSerieIds: E };
};
var oi = function(i2) {
  var n2 = i2.serie, r2 = i2.isInteractive, a = i2.onMouseEnter, d = i2.onMouseMove, c = i2.onMouseLeave, l = i2.onClick, s = i2.setActiveSerieIds, v = i2.tooltip, u = k(), p = u.showTooltipFromEvent, h = u.hideTooltip, f = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), s([n2.id]), a && a(n2, i3);
  }, [n2, a, p, s, v]), g = (0, import_react.useCallback)(function(i3) {
    p((0, import_react.createElement)(v, { serie: n2 }), i3), d && d(n2, i3);
  }, [n2, d, p, v]), y = (0, import_react.useCallback)(function(i3) {
    h(), s([]), c && c(n2, i3);
  }, [n2, c, h, s]), m = (0, import_react.useCallback)(function(i3) {
    l && l(n2, i3);
  }, [n2, l]);
  return (0, import_react.useMemo)(function() {
    return { onMouseEnter: r2 ? f : void 0, onMouseMove: r2 ? g : void 0, onMouseLeave: r2 ? y : void 0, onClick: r2 ? m : void 0 };
  }, [r2, f, g, y, m]);
};
var ni = function(i2) {
  var t2 = i2.series, o2 = i2.position, n2 = i2.padding, r2 = i2.color, d = i2.getLabel, c = zt(), l = Xe(r2, c);
  return (0, import_react.useMemo)(function() {
    var i3, e2;
    return "start" === o2 ? (i3 = "end", e2 = -1 * n2) : (i3 = "start", e2 = n2), t2.map(function(t3) {
      var n3 = t3.id;
      "function" == typeof d && (n3 = d(t3.data));
      var r3 = "start" === o2 ? t3.points[0] : t3.points[t3.points.length - 1];
      return { id: t3.id, label: n3, x: r3.x + e2, y: r3.y, color: l(t3), opacity: t3.fillOpacity, serie: t3, textAnchor: i3 };
    });
  }, [d, t2, o2, n2, l]);
};
var ri = function(i2) {
  var e2 = i2.serie, t2 = i2.areaGenerator, o2 = i2.blendMode, n2 = i2.isInteractive, r2 = i2.onMouseEnter, a = i2.onMouseMove, l = i2.onMouseLeave, s = i2.onClick, v = i2.setActiveSerieIds, u = i2.tooltip, p = oi({ serie: e2, isInteractive: n2, onMouseEnter: r2, onMouseMove: a, onMouseLeave: l, onClick: s, setActiveSerieIds: v, tooltip: u }), h = Ur(), f = h.animate, g = h.config, y = Fr(t2(e2.areaPoints) || ""), m = useSpring({ color: e2.color, fillOpacity: e2.fillOpacity, stroke: e2.borderColor, strokeOpacity: e2.borderOpacity, config: g, immediate: !f });
  return (0, import_jsx_runtime.jsx)(animated.path, { "data-testid": "area." + e2.id, d: y, fill: e2.fill ? e2.fill : m.color, fillOpacity: m.fillOpacity, stroke: m.stroke, strokeWidth: e2.borderWidth, strokeOpacity: m.strokeOpacity, style: { mixBlendMode: o2 }, onMouseEnter: p.onMouseEnter, onMouseMove: p.onMouseMove, onMouseLeave: p.onMouseLeave, onClick: p.onClick });
};
var ai = function(i2) {
  var e2 = i2.getLabel, t2 = i2.series, o2 = i2.position, n2 = i2.padding, r2 = i2.color, c = zt(), l = Ur(), s = l.animate, v = l.config, u = ni({ getLabel: e2, series: t2, position: o2, padding: n2, color: r2 }), p = useSprings(u.length, u.map(function(i3) {
    return { x: i3.x, y: i3.y, opacity: i3.opacity, config: v, immediate: !s };
  }));
  return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: p.map(function(i3, e3) {
    var t3 = u[e3];
    return (0, import_jsx_runtime.jsx)(animated.text, { "data-testid": "label." + o2 + "." + t3.serie.id, x: i3.x, y: i3.y, textAnchor: t3.textAnchor, dominantBaseline: "central", opacity: i3.opacity, style: G({}, c.labels.text, { fill: t3.color }), children: t3.label }, t3.id);
  }) });
};
var di = G({}, { align: "middle", layers: ["grid", "axes", "labels", "areas"], interpolation: "smooth", spacing: 0, xPadding: 0.6, colors: { scheme: "nivo" }, blendMode: "normal", fillOpacity: 0.8, activeFillOpacity: 1, inactiveFillOpacity: 0.15, borderWidth: 1, activeBorderWidth: 1, inactiveBorderWidth: 0, borderColor: { from: "color", modifiers: [["darker", 0.4]] }, borderOpacity: 1, activeBorderOpacity: 1, inactiveBorderOpacity: 0, startLabel: false, startLabelPadding: 12, startLabelTextColor: { from: "color", modifiers: [["darker", 1]] }, endLabel: true, endLabelPadding: 12, endLabelTextColor: { from: "color", modifiers: [["darker", 1]] }, enableGridX: true, axisTop: {}, axisBottom: {}, isInteractive: true, defaultActiveSerieIds: [], tooltip: function(i2) {
  var e2 = i2.serie;
  return (0, import_jsx_runtime.jsx)(w, { id: e2.id, enableChip: true, color: e2.color });
}, role: "img" }, { defs: [], fill: [], animate: true, motionConfig: "gentle" });
var ci = ["isInteractive", "animate", "motionConfig", "theme", "renderWrapper"];
var li = function(i2) {
  var t2 = i2.data, n2 = i2.align, a = void 0 === n2 ? di.align : n2, d = i2.width, c = i2.height, l = i2.margin, u = i2.layers, g = void 0 === u ? di.layers : u, y = i2.interpolation, m = void 0 === y ? di.interpolation : y, b = i2.spacing, x = void 0 === b ? di.spacing : b, M = i2.xPadding, P = void 0 === M ? di.xPadding : M, W = i2.colors, O = void 0 === W ? di.colors : W, L = i2.blendMode, S = void 0 === L ? di.blendMode : L, I2 = i2.fillOpacity, k3 = void 0 === I2 ? di.fillOpacity : I2, A = i2.activeFillOpacity, E = void 0 === A ? di.activeFillOpacity : A, T = i2.inactiveFillOpacity, w2 = void 0 === T ? di.inactiveFillOpacity : T, z = i2.defs, G2 = void 0 === z ? di.defs : z, F2 = i2.fill, H2 = void 0 === F2 ? di.fill : F2, X3 = i2.borderWidth, j2 = void 0 === X3 ? di.borderWidth : X3, Y2 = i2.activeBorderWidth, K2 = void 0 === Y2 ? di.activeBorderWidth : Y2, R2 = i2.inactiveBorderWidth, q2 = void 0 === R2 ? di.inactiveBorderWidth : R2, D2 = i2.borderColor, J2 = void 0 === D2 ? di.borderColor : D2, N2 = i2.borderOpacity, Q2 = void 0 === N2 ? di.borderOpacity : N2, U2 = i2.activeBorderOpacity, V2 = void 0 === U2 ? di.activeBorderOpacity : U2, Z3 = i2.inactiveBorderOpacity, $2 = void 0 === Z3 ? di.inactiveBorderOpacity : Z3, _2 = i2.startLabel, ii2 = void 0 === _2 ? di.startLabel : _2, ei2 = i2.startLabelPadding, oi2 = void 0 === ei2 ? di.startLabelPadding : ei2, ni2 = i2.startLabelTextColor, ci2 = void 0 === ni2 ? di.startLabelTextColor : ni2, li2 = i2.endLabel, si2 = void 0 === li2 ? di.endLabel : li2, vi2 = i2.endLabelPadding, ui = void 0 === vi2 ? di.endLabelPadding : vi2, pi = i2.endLabelTextColor, hi = void 0 === pi ? di.endLabelTextColor : pi, fi = i2.enableGridX, gi = void 0 === fi ? di.enableGridX : fi, yi = i2.axisTop, mi = void 0 === yi ? di.axisTop : yi, bi = i2.axisBottom, xi = void 0 === bi ? di.axisBottom : bi, Mi = i2.isInteractive, Pi = void 0 === Mi ? di.isInteractive : Mi, Wi = i2.defaultActiveSerieIds, Oi = void 0 === Wi ? di.defaultActiveSerieIds : Wi, Li = i2.onMouseEnter, Si = i2.onMouseMove, Ii = i2.onMouseLeave, Ci = i2.onClick, Bi = i2.tooltip, ki = void 0 === Bi ? di.tooltip : Bi, Ai = i2.role, Ei = void 0 === Ai ? di.role : Ai, Ti = wt(d, c, l), wi = Ti.margin, zi = Ti.innerWidth, Gi = Ti.innerHeight, Fi = Ti.outerWidth, Hi = Ti.outerHeight, Xi = ti({ data: t2, width: zi, height: Gi, align: a, spacing: x, xPadding: P, interpolation: m, colors: O, fillOpacity: k3, activeFillOpacity: E, inactiveFillOpacity: w2, borderWidth: j2, activeBorderWidth: K2, inactiveBorderWidth: q2, borderColor: J2, borderOpacity: Q2, activeBorderOpacity: V2, inactiveBorderOpacity: $2, isInteractive: Pi, defaultActiveSerieIds: Oi }), ji = Xi.series, Yi = Xi.xScale, Ki = Xi.heightScale, Ri = Xi.areaGenerator, qi = Xi.setActiveSerieIds, Di = (0, import_react.useMemo)(function() {
    return In(G2, ji, H2, { targetKey: "fill" });
  }, [G2, ji, H2]), Ji = { grid: null, axes: null, labels: null, areas: null };
  g.includes("grid") && gi && (Ji.grid = (0, import_jsx_runtime.jsx)(C, { width: zi, height: Gi, xScale: Yi }, "grid")), g.includes("axes") && (Ji.axes = (0, import_jsx_runtime.jsx)(B, { xScale: Yi, yScale: Ki, width: zi, height: Gi, top: mi, bottom: xi }, "axes")), g.includes("areas") && (Ji.areas = (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: ji.map(function(i3) {
    return (0, import_jsx_runtime.jsx)(ri, { areaGenerator: Ri, serie: i3, blendMode: S, isInteractive: Pi, setActiveSerieIds: qi, onMouseEnter: Li, onMouseMove: Si, onMouseLeave: Ii, onClick: Ci, tooltip: ki }, i3.id);
  }) }, "areas")), g.includes("labels") && (Ji.labels = (0, import_jsx_runtime.jsxs)(import_react.Fragment, { children: [false !== ii2 && (0, import_jsx_runtime.jsx)(ai, { getLabel: ii2, series: ji, position: "start", padding: oi2, color: ci2 }), false !== si2 && (0, import_jsx_runtime.jsx)(ai, { getLabel: si2, series: ji, position: "end", padding: ui, color: hi })] }, "labels"));
  var Ni = (0, import_react.useMemo)(function() {
    return { innerWidth: zi, innerHeight: Gi, outerWidth: Fi, outerHeight: Hi, series: ji, xScale: Yi, areaGenerator: Ri };
  }, [zi, Gi, Fi, Hi, ji, Yi, Ri]);
  return (0, import_jsx_runtime.jsx)(gn, { defs: Di, width: Fi, height: Hi, margin: wi, role: Ei, children: g.map(function(i3, e2) {
    var t3;
    return "function" == typeof i3 ? (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: (0, import_react.createElement)(i3, Ni) }, e2) : null != (t3 = null == Ji ? void 0 : Ji[i3]) ? t3 : null;
  }) });
};
var si = function(i2) {
  var e2 = i2.isInteractive, t2 = void 0 === e2 ? di.isInteractive : e2, o2 = i2.animate, n2 = void 0 === o2 ? di.animate : o2, r2 = i2.motionConfig, a = void 0 === r2 ? di.motionConfig : r2, d = i2.theme, c = i2.renderWrapper, s = F(i2, ci);
  return (0, import_jsx_runtime.jsx)(St, { animate: n2, isInteractive: t2, motionConfig: a, renderWrapper: c, theme: d, children: (0, import_jsx_runtime.jsx)(li, G({ isInteractive: t2 }, s)) });
};
var vi = function(i2) {
  return (0, import_jsx_runtime.jsx)(It, { children: function(e2) {
    var t2 = e2.width, o2 = e2.height;
    return (0, import_jsx_runtime.jsx)(si, G({ width: t2, height: o2 }, i2));
  } });
};
export {
  si as AreaBump,
  V as Bump,
  vi as ResponsiveAreaBump,
  Z2 as ResponsiveBump,
  di as areaBumpSvgDefaultProps,
  q as bumpSvgDefaultProps,
  $ as isBumpPoint,
  _ as isComputedBumpSerie,
  ti as useAreaBump,
  oi as useAreaBumpSerieHandlers,
  ni as useAreaBumpSeriesLabels,
  X2 as useBump,
  Y as useBumpPointHandlers,
  j as useBumpSerieHandlers,
  K as useBumpSeriesLabels
};
//# sourceMappingURL=@nivo_bump.js.map
