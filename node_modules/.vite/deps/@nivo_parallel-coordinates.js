import {
  O as O2,
  W,
  X,
  Z
} from "./chunk-QYFNBIJB.js";
import {
  H,
  O
} from "./chunk-Q4AYEMRE.js";
import {
  C,
  Fr,
  It,
  St,
  Ur,
  animated,
  gn,
  k,
  line_default,
  linear,
  lt,
  point,
  pr,
  useSpring,
  wt,
  zt
} from "./chunk-XV5DIAUC.js";
import "./chunk-CY2I7XHN.js";
import "./chunk-NXESFFTV.js";
import {
  require_jsx_runtime
} from "./chunk-6PXSGDAH.js";
import {
  require_react
} from "./chunk-DRWLMN53.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/@nivo/parallel-coordinates/dist/nivo-parallel-coordinates.es.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var import_react = __toESM(require_react());
function z() {
  return z = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var i2 = arguments[t];
      for (var r2 in i2) Object.prototype.hasOwnProperty.call(i2, r2) && (e[r2] = i2[r2]);
    }
    return e;
  }, z.apply(this, arguments);
}
function B(e, t) {
  if (null == e) return {};
  var i2, r2, n2 = {}, o2 = Object.keys(e);
  for (r2 = 0; r2 < o2.length; r2++) i2 = o2[r2], t.indexOf(i2) >= 0 || (n2[i2] = e[i2]);
  return n2;
}
function D(e, t) {
  (null == t || t > e.length) && (t = e.length);
  for (var i2 = 0, r2 = new Array(t); i2 < t; i2++) r2[i2] = e[i2];
  return r2;
}
function O3(e, t) {
  var i2 = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
  if (i2) return (i2 = i2.call(e)).next.bind(i2);
  if (Array.isArray(e) || (i2 = function(e2, t2) {
    if (e2) {
      if ("string" == typeof e2) return D(e2, t2);
      var i3 = Object.prototype.toString.call(e2).slice(8, -1);
      return "Object" === i3 && e2.constructor && (i3 = e2.constructor.name), "Map" === i3 || "Set" === i3 ? Array.from(e2) : "Arguments" === i3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i3) ? D(e2, t2) : void 0;
    }
  }(e)) || t && e && "number" == typeof e.length) {
    i2 && (e = i2);
    var r2 = 0;
    return function() {
      return r2 >= e.length ? { done: true } : { done: false, value: e[r2++] };
    };
  }
  throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
var M;
var j = { layout: "horizontal", curve: "linear", role: "img", colors: { scheme: "category10" }, lineWidth: 2, lineOpacity: 0.5, axesTicksPosition: "after", isInteractive: true, tooltip: function(t) {
  var r2 = t.datum, n2 = t.variables;
  return (0, import_jsx_runtime.jsx)(C, { rows: n2.map(function(e) {
    return [e.label || e.id, (0, import_jsx_runtime.jsx)("strong", { children: r2.data[e.value] })];
  }) });
}, legends: [], animate: true, motionConfig: "gentle" };
var A = z({}, j, { layers: ["lines", "axes", "legends"] });
var G = z({}, j, { layers: ["lines", "axes", "legends"], pixelRatio: "undefined" != typeof window && null != (M = window.devicePixelRatio) ? M : 1 });
var R = function(e) {
  var t = e.width, i2 = e.height, a2 = e.data, l2 = e.variables, d2 = e.groupBy, u = e.groups, s = e.layout, v = void 0 === s ? j.layout : s, h = e.curve, f = void 0 === h ? j.curve : h, p = e.colors, g = void 0 === p ? j.colors : p, m = e.forwardLegendData, y = pr(g, "id"), b = (0, import_react.useMemo)(function() {
    if (void 0 !== d2) return function(e2) {
      var t2, i3 = e2.data, r2 = e2.groupBy, n2 = e2.predefinedGroups, o2 = e2.getColor;
      if (void 0 !== n2) t2 = n2.map(function(e3) {
        return { id: e3.id, label: e3.label || e3.id, color: o2(e3) };
      });
      else {
        for (var a3, l3 = /* @__PURE__ */ new Set(), d3 = O3(i3); !(a3 = d3()).done; ) {
          var c = a3.value;
          l3.add(c[r2]);
        }
        t2 = Array.from(l3, function(e3) {
          var t3 = { id: e3, label: e3 };
          return z({}, t3, { color: o2(t3) });
        });
      }
      return t2;
    }({ data: a2, groupBy: d2, predefinedGroups: u, getColor: y });
  }, [a2, d2, u, y]), x = (0, import_react.useMemo)(function() {
    var e2 = l2.map(function(e3) {
      return e3.id;
    });
    return Z(point().range("horizontal" === v ? [0, t] : [i2, 0]).domain(e2));
  }, [l2, v, t, i2]), P = (0, import_react.useMemo)(function() {
    return function(e2) {
      var t2 = e2.width, i3 = e2.height, r2 = e2.data, n2 = e2.variables, o2 = "horizontal" === e2.layout ? [i3, 0] : [0, t2];
      return n2.map(function(e3) {
        var t3 = r2.map(function(t4) {
          return t4[e3.value];
        }), i4 = void 0 !== e3.min && "auto" !== e3.min ? e3.min : Math.min.apply(Math, t3), n3 = void 0 !== e3.max && "auto" !== e3.max ? e3.max : Math.max.apply(Math, t3), a3 = X(linear().rangeRound(o2).domain([i4, n3]));
        return z({}, e3, { scale: a3 });
      });
    }({ width: t, height: i2, data: a2, variables: l2, layout: v });
  }, [t, i2, a2, l2, v]), L = (0, import_react.useMemo)(function() {
    return function(e2) {
      var t2 = e2.data, i3 = e2.groupBy, r2 = e2.groups, n2 = e2.variablesScale, o2 = e2.variablesWithScale, a3 = e2.layout, l3 = e2.getColor;
      return t2.map(function(e3, t3) {
        var d3 = o2.map(function(t4) {
          return ["horizontal" === a3 ? n2(t4.id) : t4.scale(e3[t4.value]), "horizontal" === a3 ? t4.scale(e3[t4.value]) : n2(t4.id)];
        }), c = void 0;
        if (void 0 !== i3) {
          var u2 = e3[i3];
          c = null == r2 ? void 0 : r2.find(function(e4) {
            return e4.id === u2;
          });
        }
        var s2 = { id: e3.id, index: t3, points: d3, data: e3, color: c ? c.color : l3(e3) };
        return c ? z({}, s2, { group: c }) : s2;
      });
    }({ data: a2, groupBy: d2, groups: b, variablesScale: x, variablesWithScale: P, layout: v, getColor: y });
  }, [a2, d2, b, x, P, v, y]), B2 = (0, import_react.useMemo)(function() {
    return b ? b.map(function(e2) {
      return { id: e2.id, label: e2.label || e2.id, color: e2.color, data: e2 };
    }) : L.map(function(e2) {
      return { id: e2.id, label: e2.id, color: e2.color, data: e2 };
    });
  }, [b, L]), D2 = (0, import_react.useRef)(m);
  (0, import_react.useEffect)(function() {
    "function" == typeof D2.current && D2.current(B2);
  }, [D2, B2]);
  var M2 = (0, import_react.useMemo)(function() {
    return line_default().curve(lt(f));
  }, [f]), A2 = (0, import_react.useMemo)(function() {
    return { computedData: L, variables: l2, lineGenerator: M2 };
  }, [L, l2, M2]);
  return { variablesScale: x, variablesWithScale: P, computedData: L, lineGenerator: M2, legendData: B2, customLayerContext: A2 };
};
var E = function(e) {
  var r2 = e.datum, n2 = e.variables, o2 = e.lineGenerator, d2 = e.lineWidth, c = e.opacity, v = e.tooltip, h = e.testIdPrefix, f = k(), p = f.showTooltipFromEvent, g = f.hideTooltip, m = (0, import_react.useCallback)(function(e2) {
    p((0, import_react.createElement)(v, { datum: r2, variables: n2 }), e2);
  }, [p, r2, n2]), y = Ur(), b = y.animate, x = y.config, w = Fr(o2(r2.points)), W2 = useSpring({ color: r2.color, opacity: c, config: x, immediate: !b });
  return (0, import_jsx_runtime.jsx)(animated.path, { d: w, stroke: W2.color, strokeWidth: d2, strokeLinecap: "round", opacity: W2.opacity, fill: "none", onMouseEnter: m, onMouseMove: m, onMouseLeave: g, "data-test-id": h ? h + ".line_" + r2.id : void 0 });
};
var T = ["isInteractive", "animate", "motionConfig", "theme", "renderWrapper"];
var H2 = function(e) {
  var t = e.data, r2 = e.variables, n2 = e.groupBy, o2 = e.groups, a2 = e.width, c = e.height, u = e.margin, s = e.layout, v = void 0 === s ? A.layout : s, p = e.curve, g = void 0 === p ? A.curve : p, y = e.axesTicksPosition, x = e.lineWidth, w = void 0 === x ? A.lineWidth : x, W2 = e.lineOpacity, k2 = void 0 === W2 ? A.lineOpacity : W2, S = e.colors, C2 = void 0 === S ? A.colors : S, I = e.layers, P = void 0 === I ? A.layers : I, L = e.tooltip, B2 = void 0 === L ? A.tooltip : L, D2 = e.legends, O4 = void 0 === D2 ? A.legends : D2, M2 = e.forwardLegendData, j2 = e.role, G2 = void 0 === j2 ? A.role : j2, T2 = e.ariaLabel, H3 = e.ariaLabelledBy, F2 = e.ariaDescribedBy, V2 = e.testIdPrefix, U2 = wt(a2, c, u), $2 = U2.outerWidth, _2 = U2.outerHeight, q2 = U2.margin, J = U2.innerWidth, K = U2.innerHeight, N = R({ width: J, height: K, data: t, variables: r2, groupBy: n2, groups: o2, layout: v, colors: C2, curve: g, forwardLegendData: M2 }), Q = N.variablesScale, X2 = N.variablesWithScale, Y = N.computedData, Z2 = N.lineGenerator, ee = N.legendData, te = N.customLayerContext, ie = { axes: null, lines: null, legends: null };
  return P.includes("axes") && (ie.axes = (0, import_jsx_runtime.jsx)("g", { children: X2.map(function(e2) {
    return (0, import_jsx_runtime.jsx)(W, { axis: "horizontal" === v ? "y" : "x", length: "horizontal" === v ? K : J, x: "horizontal" === v ? Q(e2.id) : 0, y: "horizontal" === v ? 0 : Q(e2.id), scale: e2.scale, ticksPosition: e2.ticksPosition || y, tickValues: e2.tickValues, tickSize: e2.tickSize, tickPadding: e2.tickPadding, tickRotation: e2.tickRotation, format: e2.tickFormat, legend: e2.label || e2.id, legendPosition: e2.legendPosition, legendOffset: e2.legendOffset }, e2.id);
  }) }, "axes")), P.includes("lines") && (ie.lines = (0, import_jsx_runtime.jsx)("g", { children: Y.map(function(e2) {
    return (0, import_jsx_runtime.jsx)(E, { datum: e2, variables: r2, lineGenerator: Z2, lineWidth: w, opacity: k2, tooltip: B2, testIdPrefix: V2 }, "" + ("group" in e2 ? e2.group.id : "") + e2.id);
  }) }, "lines")), P.includes("legends") && (ie.legends = (0, import_jsx_runtime.jsx)("g", { children: O4.map(function(e2, t2) {
    return (0, import_jsx_runtime.jsx)(O, z({}, e2, { containerWidth: J, containerHeight: K, data: ee }), t2);
  }) }, "legends")), (0, import_jsx_runtime.jsx)(gn, { width: $2, height: _2, margin: q2, role: G2, ariaLabel: T2, ariaLabelledBy: H3, ariaDescribedBy: F2, children: P.map(function(e2, t2) {
    var r3;
    return "function" == typeof e2 ? (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: (0, import_react.createElement)(e2, te) }, t2) : null != (r3 = null == ie ? void 0 : ie[e2]) ? r3 : null;
  }) });
};
var F = function(e) {
  var t = e.isInteractive, r2 = void 0 === t ? A.isInteractive : t, n2 = e.animate, o2 = void 0 === n2 ? A.animate : n2, a2 = e.motionConfig, l2 = void 0 === a2 ? A.motionConfig : a2, d2 = e.theme, c = e.renderWrapper, u = B(e, T);
  return (0, import_jsx_runtime.jsx)(St, { animate: o2, isInteractive: r2, motionConfig: l2, renderWrapper: c, theme: d2, children: (0, import_jsx_runtime.jsx)(H2, z({ isInteractive: r2 }, u)) });
};
var V = function(e) {
  return (0, import_jsx_runtime.jsx)(It, { children: function(t) {
    var r2 = t.width, n2 = t.height;
    return (0, import_jsx_runtime.jsx)(F, z({ width: r2, height: n2 }, e));
  } });
};
var U = ["theme", "isInteractive", "animate", "motionConfig", "renderWrapper"];
var $ = function(e) {
  var t = e.data, r2 = e.layout, a2 = void 0 === r2 ? G.layout : r2, l2 = e.variables, d2 = e.groupBy, c = e.groups, u = e.width, s = e.height, v = e.margin, f = e.curve, p = void 0 === f ? G.curve : f, m = e.colors, b = void 0 === m ? G.colors : m, w = e.lineOpacity, W2 = void 0 === w ? G.lineOpacity : w, k2 = e.lineWidth, S = void 0 === k2 ? G.lineWidth : k2, C2 = e.axesTicksPosition, I = void 0 === C2 ? G.axesTicksPosition : C2, P = e.legends, L = void 0 === P ? G.legends : P, B2 = e.forwardLegendData, D2 = e.layers, O4 = void 0 === D2 ? G.layers : D2, M2 = e.role, j2 = void 0 === M2 ? G.role : M2, A2 = e.ariaLabel, E2 = e.ariaLabelledBy, T2 = e.ariaDescribedBy, H3 = e.pixelRatio, F2 = void 0 === H3 ? G.pixelRatio : H3, V2 = (0, import_react.useRef)(null), U2 = wt(u, s, v), $2 = U2.margin, _2 = U2.innerWidth, q2 = U2.innerHeight, J = U2.outerWidth, K = U2.outerHeight, N = R({ width: _2, height: q2, data: t, variables: l2, groupBy: d2, groups: c, layout: a2, colors: b, curve: p, forwardLegendData: B2 }), Q = N.variablesScale, X2 = N.variablesWithScale, Y = N.computedData, Z2 = N.lineGenerator, ee = N.legendData, te = N.customLayerContext, ie = zt();
  return (0, import_react.useEffect)(function() {
    if (null !== V2.current) {
      var e2 = V2.current.getContext("2d");
      null !== e2 && (V2.current.width = J * F2, V2.current.height = K * F2, e2.scale(F2, F2), e2.fillStyle = ie.background, e2.fillRect(0, 0, J, K), e2.translate($2.left, $2.top), O4.forEach(function(t2) {
        "axes" === t2 ? X2.forEach(function(t3) {
          O2(e2, { axis: "horizontal" === a2 ? "y" : "x", scale: t3.scale, x: "horizontal" === a2 ? Q(t3.id) : 0, y: "horizontal" === a2 ? 0 : Q(t3.id), length: "horizontal" === a2 ? q2 : _2, ticksPosition: I, theme: ie });
        }) : "lines" === t2 ? (Z2.context(e2), Y.forEach(function(t3) {
          e2.save(), e2.globalAlpha = W2, e2.beginPath(), Z2(t3.points), e2.strokeStyle = t3.color, e2.lineWidth = S, e2.stroke(), e2.restore();
        })) : "legends" === t2 ? L.forEach(function(t3) {
          H(e2, z({}, t3, { data: ee, containerWidth: _2, containerHeight: q2, theme: ie }));
        }) : "function" == typeof t2 && t2(e2, te);
      }));
    }
  }, [V2, J, K, _2, q2, $2, O4, te, Z2, W2, S, Y, Q, X2, a2, I, L, ee, ie, F2]), (0, import_jsx_runtime.jsx)("canvas", { ref: V2, width: J * F2, height: K * F2, style: { width: J, height: K }, role: j2, "aria-label": A2, "aria-labelledby": E2, "aria-describedby": T2 });
};
var _ = function(e) {
  var t = e.theme, r2 = e.isInteractive, n2 = void 0 === r2 ? G.isInteractive : r2, o2 = e.animate, a2 = void 0 === o2 ? G.animate : o2, l2 = e.motionConfig, d2 = void 0 === l2 ? G.motionConfig : l2, c = e.renderWrapper, u = B(e, U);
  return (0, import_jsx_runtime.jsx)(St, { isInteractive: n2, animate: a2, motionConfig: d2, theme: t, renderWrapper: c, children: (0, import_jsx_runtime.jsx)($, z({ isInteractive: n2 }, u)) });
};
var q = function(e) {
  return (0, import_jsx_runtime.jsx)(It, { children: function(t) {
    var r2 = t.width, n2 = t.height;
    return (0, import_jsx_runtime.jsx)(_, z({ width: r2, height: n2 }, e));
  } });
};
export {
  $ as InnerParallelCoordinatesCanvas,
  F as ParallelCoordinates,
  _ as ParallelCoordinatesCanvas,
  V as ResponsiveParallelCoordinates,
  q as ResponsiveParallelCoordinatesCanvas,
  G as canvasDefaultProps,
  j as commonDefaultProps,
  A as svgDefaultProps
};
//# sourceMappingURL=@nivo_parallel-coordinates.js.map
